import base64

exec(base64.b64decode("Iy0tLS0tLS0tLS0tLS0tLS0tWyBJTVBPUlQtTU9EVUxFIF0tLS0tLS0tLS0tLS0tLS0tLS0tCmltcG9ydCByZXF1ZXN0cyxiczQsanNvbixvcyxzeXMscmFuZG9tLGRhdGV0aW1lLHRpbWUscmUKaW1wb3J0IHVybGxpYjMscmljaCxiYXNlNjQKZnJvbSByaWNoLnRhYmxlIGltcG9ydCBUYWJsZSBhcyBtZQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgQ29uc29sZSBhcyBzb2wKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgc29wCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgdHJlZApmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgR3JvdXAgYXMgZ3AKZnJvbSByaWNoLnBhbmVsIGltcG9ydCBQYW5lbCBhcyBuZWwKZnJvbSByaWNoIGltcG9ydCBwcmludCBhcyBjZXRhawpmcm9tIHJpY2gubWFya2Rvd24gaW1wb3J0IE1hcmtkb3duIGFzIG1hcmsKZnJvbSByaWNoLmNvbHVtbnMgaW1wb3J0IENvbHVtbnMgYXMgY29sCmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgcnByaW50CmZyb20gcmljaCBpbXBvcnQgcHJldHR5CmZyb20gcmljaC50ZXh0IGltcG9ydCBUZXh0IGFzIHRla3oKcHJldHR5Lmluc3RhbGwoKQpDT049c29sKCkKIyMgUkFORE9NIFVBCiN1c2VyX2FnZW50PVsnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMDsgUmVkbWkgTm90ZSA0IEJ1aWxkL05SRDkwTSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzYzLjAuMzIzOS4xMTEgTW9iaWxlIFNhZmFyaS81MzcuMzYnLCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4wOyBSZWRtaSBOb3RlIDQgQnVpbGQvTlJEOTBNKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNjQuMC4zMjgyLjEzNyBNb2JpbGUgU2FmYXJpLzUzNy4zNicsJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA3LjA7IFJlZG1pIE5vdGUgNCBCdWlsZC9OUkQ5ME07IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvOTYuMC40NjY0LjQ1IE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzM0NS4wLjAuMzQuMTE4O10nLCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTIpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OC4wLjQ3NTguMTAxIE1vYmlsZSBTYWZhcmkvNTM3LjM2JywnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMDsgUmVkbWkgTm90ZSA0IEJ1aWxkL05SRDkwTTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS83MC4wLjM1MzguODAgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCX0lBQi9GQjRBO0ZCQVYvMTk4LjAuMC41My4xMDE7XScsJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgU00tQTIwNVUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OC4wLjQ3NTguMTAxIE1vYmlsZSBTYWZhcmkvNTM3LjM2JywnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTTS1BMTAyVSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1OC4xMDEgTW9iaWxlIFNhZmFyaS81MzcuMzYnLCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNNLUc5NjBVKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjEwMSBNb2JpbGUgU2FmYXJpLzUzNy4zNicsJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgU00tTjk2MFUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OC4wLjQ3NTguMTAxIE1vYmlsZSBTYWZhcmkvNTM3LjM2JywnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBMTS1RNzIwKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjEwMSBNb2JpbGUgU2FmYXJpLzUzNy4zNicsJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgTE0tWDQyMCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1OC4xMDEgTW9iaWxlIFNhZmFyaS81MzcuMzYnLCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYnLCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IExNLVE3MTAoRkdOKSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1OC4xMDEgTW9iaWxlIFNhZmFyaS81MzcuMzYnXQp1YXNfYmF3YWFuID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSIKdWFzX25va2lhYzIgPSAiTm9raWFDMi0wMC8yLjAgKDAzLjQ1KSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgKEphdmE7IFU7IGthdTsgbm9raWFjMi0wMCkgVUNCcm93c2VyOC4zLjAuMTU0LzcwLzM1Mi9VQ1dFQiBNb2JpbGUiCnVhc19ub2tpYXgyMCA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IE5va2lhIFgyMCBCdWlsZC9TS1ExLjIxMDgyMS4wMDE7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBzZXBlcnRpIEdlY2tvKSBWZXJzaS80LjAgQ2hyb21lLzk4LjAuNDc1OC44NyBNb2JpbGUgU2FmYXJpLzUzNy4zNiIKdWFzX25va2lheCA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4xLjI7IE5va2lhX1ggQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMjcuMC44Ny45MCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBOb2tpYUJyb3dzZXIvMS4wLGd6aXAoZ2ZlKSIKdWFzX3NhbXN1bmdzZSA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYiCnVhc19yZWRtaTlhID0gIk1vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCAxMDsgaWQtaWQ7IFJlZG1pIDlBIEJ1aWxkL1FQMUEuMTkwNzExLjAyMCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg5LjAuNDM4OS4xMTYgTW9iaWxlIFNhZmFyaS81MzcuMzYiCnVhc19ub2tpYXhsID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjEuMjsgTm9raWFfWEwgQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMzAuMC4xNTk5LjgyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjIuMC4xMiIKI3Vhc19jaHJvbWVsaW51eCA9ICJNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85Ny4wLjQ2OTIuNzEgU2FmYXJpLzUzNy4zNiIKI3Vhc19qN3ByaW1lID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjEuMDsgU00tRzYxMEYgQnVpbGQvTTFBSlEpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Mi4wLjM2MjYuMTIxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE9QUi81MS4xLjI0NjEuMTM3NTAxIgp1YXNfdGVzID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA3LjA7IFJlZG1pIE5vdGUgNFggQnVpbGQvTWlVSSBNUzsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS82NS4wLjMzMjUuMTA5IE1vYmlsZSBTYWZhcmkvNTM3LjM2IEluc3RhZ3JhbSAzOC4wLjAuMTMuOTUgQW5kcm9pZCAoMjQvNy4wOyA0ODBkcGk7IDEwODB4MTkyMDsgWGlhb21pL3hpYW9taTsgUmVkbWkgTm90ZSA0WDsgbWlkbzsgcWNvbTsgcnVfUlU7IDk5NjQwOTExKSIKdWFzX3JhbmRvbSA9IHJhbmRvbS5jaG9pY2UoWyJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC40LjI7IHpoLUNOOyBIVUFXRUkgTVQ3LVRMMDAgQnVpbGQvSHVhd2VpTVQ3LVRMMDApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS80MC4wLjIyMTQuODkgVUNCcm93c2VyLzExLjMuOC45MDkgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJOb2tpYUMzLTAwLzUuMCAoMDguNjMpIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCBBcHBsZVdlYktpdC80MjArIChLSFRNTCwgbGlrZSBHZWNrbykgU2FmYXJpLzQyMCsiLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE5va2lhIDUuMSBQbHVzIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIHNlcGVydGkgR2Vja28pIFZlcnNpLzQuMCBDaHJvbWUvODMuMC40MTAzLjEwNiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgU0FNU1VORyBTTS1HNzgwRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMTYuMCBDaHJvbWUvOTIuMC40NTE1LjE2NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiJdKQp1YXNfbm9raWFjMyA9ICJOb2tpYUMzLTAwLzUuMCAoMDguNjMpIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCBBcHBsZVdlYktpdC80MjArIChLSFRNTCwgbGlrZSBHZWNrbykgU2FmYXJpLzQyMCsiCnVhc19pcGhvbmUgPSAiTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxM18zXzEgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjA1LjEuMTUgKEtIVE1MLCBsaWtlIEdlY2tvKSBNb2JpbGUvMTVFMTQ4IFtGQkFOL0ZCSU9TO0ZCRFYvaVBob25lMTEsODtGQk1EL2lQaG9uZTtGQlNOL2lPUztGQlNWLzEzLjMuMTtGQlNTLzI7RkJJRC9waG9uZTtGQkxDL2VuX1VTO0ZCT1AvNTtGQkNSL10iCnVhc19ub2tpYTVwbHVzID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTm9raWEgNS4xIFBsdXMgQnVpbGQvUVAxQS4xOTA3MTEuMDIwOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgc2VwZXJ0aSBHZWNrbykgVmVyc2kvNC4wIENocm9tZS84My4wLjQxMDMuMTA2IE1vYmlsZSBTYWZhcmkvNTM3LjM2Igp1YXNfcmFuZG9tMiA9IHJhbmRvbS5jaG9pY2UoWyJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSIsIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjQuNDsgZW4tYXU7IFNBTVNVTkcgU00tTjkxNUcgQnVpbGQvS1RVODRQKSBBcHBsZVdlYktpdC81MzcuMzYgKEtUSE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzIuMCBDaHJvbWUvMzQuMC4xODQ3Ljc2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuMS4yOyBOb2tpYV9YIEJ1aWxkL0paTzU0SykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzI3LjAuODcuOTAgTW9iaWxlIFNhZmFyaS81MzcuMzYgTm9raWFCcm93c2VyLzEuMCxnemlwKGdmZSkiLCJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC40LjI7IHpoLUNOOyBIVUFXRUkgTVQ3LVRMMDAgQnVpbGQvSHVhd2VpTVQ3LVRMMDApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS80MC4wLjIyMTQuODkgVUNCcm93c2VyLzExLjMuOC45MDkgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE0yMDA2QzNNRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzgxLjAuNDA0NC4xMzggTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4wOyBTTS1HOTMwVkMgQnVpbGQvTlJEOTBNOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzU4LjAuMzAyOS44MyBNb2JpbGUgU2FmYXJpLzUzNy4zNiJdKQojLS0tLS0tLS0tLS0tLS0tLS0tWyBVU0VSLUFHRU5UIF0tLS0tLS0tLS0tLS0tLS0tLS0tIwp1Z2VuMj1bXQp1Z2VuPVtdCmNva2JydXQ9W10Kc2VzPXJlcXVlc3RzLlNlc3Npb24oKQpwcmluY3A9W10KdHJ5OgoJcHJveD0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2FwaS5wcm94eXNjcmFwZS5jb20vdjIvP3JlcXVlc3Q9ZGlzcGxheXByb3hpZXMmcHJvdG9jb2w9c29ja3M0JnRpbWVvdXQ9MTAwMDAwJmNvdW50cnk9YWxsJnNzbD1hbGwmYW5vbnltaXR5PWFsbCcpLnRleHQKCW9wZW4oJy5wcm94LnR4dCcsJ3cnKS53cml0ZShwcm94KQpleGNlcHQgRXhjZXB0aW9uIGFzIGU6CglwcmludCgnW1tceDFiWzE7OTJt4oCiXHgxYlsxOzk3bV0gW1x4MWJbMTs5Nm1Ncl9OYWliJykKcHJveD1vcGVuKCcucHJveC50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQpmb3IgeGQgaW4gcmFuZ2UoMTAwMDApOgoJYT0nTW96aWxsYS81LjAgKFN5bWJpYW4vMzsgU2VyaWVzNjAvJwoJYj1yYW5kb20ucmFuZHJhbmdlKDEsIDkpCgljPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWQ9J05va2lhJwoJZT1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkKCWY9Jy8xMTAuMDIxLjAwMjg7IFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSApIEFwcGxlV2ViS2l0LzUzNS4xIChLSFRNTCwgbGlrZSBHZWNrbykgTm9raWFCcm93c2VyLycKCWc9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQoJaD1yYW5kb20ucmFuZHJhbmdlKDEsIDQpCglpPXJhbmRvbS5yYW5kcmFuZ2UoMSwgNCkKCWo9cmFuZG9tLnJhbmRyYW5nZSgxLCA0KQoJaz0nTW9iaWxlIFNhZmFyaS81MzUuMScKCXVha3U9KGYne2F9e2J9LntjfSB7ZH17ZX17Zn17Z30ue2h9LntpfS57an0ge2t9JykKCXVnZW4yLmFwcGVuZCh1YWt1KQoKCglhYT0nTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkJwoJYj1yYW5kb20uY2hvaWNlKFsnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMiddKQoJYz0nIGVuLXVzOyBHVC0nCglkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkKCWY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCglnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvJwoJaD1yYW5kb20ucmFuZHJhbmdlKDczLDEwMCkKCWk9JzAnCglqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQoJaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkKCWw9J01vYmlsZSBTYWZhcmkvNTM3LjM2JwoJdWFrdTI9Zid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9JwoJdWdlbi5hcHBlbmQodWFrdTIpCmZvciB4IGluIHJhbmdlKDEwKToKCWE9J01vemlsbGEvNS4wIChTQU1TVU5HOyBTQU1TVU5HLUdULVMnCgliPXJhbmRvbS5yYW5kcmFuZ2UoMTAwLCA5OTk5KQoJYz1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkKCWQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCgllPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKCWc9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCgloPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWk9JzsgVTsgQmFkYS8xLjI7IGVuLXVzKSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIERvbGZpbi8nCglqPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWs9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQoJbD0nTW9iaWxlIFdWR0EgU01NLU1NUy8xLjIuMCBPUE4tQicKCXVhaz1mJ3thfXtifS97Y317ZH17ZX17Zn17Z317aH17aX17an0ue2t9IHtsfScKZGVmIHVha3UoKToKCXRyeToKCQl1YT1vcGVuKCdiYm5ldy50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoJCWZvciB1YiBpbiB1YToKCQkJdWdlbi5hcHBlbmQodWIpCglleGNlcHQ6CgkJYT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ2l0aHViLmNvbS9Ub251LTE0MycpLnRleHQKCQl1YT1vcGVuKCcuYmJuZXcudHh0JywndycpCgkJYWE9cmUuZmluZGFsbCgnbGluZSI+KC4qPyk8JyxzdHIoYSkpCgkJZm9yIHVuIGluIGFhOgoJCQl1YS53cml0ZSh1bisnXG4nKQoJCXVhPW9wZW4oJy5iYm5ldy50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQojLS0tLS0tLS0tLS0tWyBJTkRJQ0FUSU9OIF0tLS0tLS0tLS0tLS0tLS0jCmlkLGlkMixsb29wLG9rLGNwLGFrdW4sb3ByZWssbWV0aG9kLGxpc2Vuc2lrdSx0YXBsaWthc2ksdG9rZW5rdSx1aWQsbGlzZW5zaWt1bmk9IFtdLFtdLDAsMCwwLFtdLFtdLFtdLFtdLFtdLFtdLFtdLFtdCmNva2JydXQ9W10KcHdwbHVzcyxwd255YT1bXSxbXQojLS0tLS0tLS0tLS0tWyBXQVJOQS1DT0xPUiBdLS0tLS0tLS0tLS0tLS0jClAgPSAnXHgxYlsxOzk3bScKTSA9ICdceDFiWzE7OTFtJwpIID0gJ1x4MWJbMTs5Mm0nCksgPSAnXHgxYlsxOzkzbScKQiA9ICdceDFiWzE7OTRtJwpVID0gJ1x4MWJbMTs5NW0nIApPID0gJ1x4MWJbMTs5Nm0nCk4gPSAnXHgxYlswbScgICAgClogPSAiXDAzM1sxOzMwbSIKc2lyID0gJ1wwMzNbNDFtXHgxYlsxOzk3bScKeCA9ICdcMzNbbScgIyBERUZBVUxUCm0gPSAnXHgxYlsxOzkxbScgI1JFRCArCmsgPSAnXDAzM1s5M20nICMgS1VOSU5HICsKaCA9ICdceDFiWzE7OTJtJyAjIEhJSkFVICsKaGggPSAnXDAzM1szMm0nICMgSElKQVUgLQp1ID0gJ1wwMzNbOTVtJyAjIFVOR1UKa2sgPSAnXDAzM1szM20nICMgS1VOSU5HIC0KYiA9ICdcMzNbMTs5Nm0nICMgQklSVSAtCnAgPSAnXHgxYlswOzM0bScgIyBCSVJVICsKYXN1ID0gcmFuZG9tLmNob2ljZShbbSxrLGgsdSxiXSkKIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBDT05WRVJURVItQlVMQU4gXS0tLS0tLS0tLS0tLS0tIwpkaWMgPSB7JzEnOidKYW51YXJ5JywnMic6J0ZlYnJ1YXJ5JywnMyc6J01hcmNoJywnNCc6J0FwcmlsJywnNSc6J01heScsJzYnOidKdW5lJywnNyc6J0p1bHknLCc4JzonQXVndXN0JywnOSc6J1NlcHRlbWJlcicsJzEwJzonT2N0b2JlcicsJzExJzonTm92ZW1iZXInLCcxMic6J0RlY2VtYmVyJ30KZGljMiA9IHsnMDEnOidKYW51YXJ5JywnMDInOidGZWJydWFyeScsJzAzJzonTWFyY2gnLCcwNCc6J0FwcmlsJywnMDUnOidNYXknLCcwNic6J0p1bmUnLCcwNyc6J0p1bHknLCcwOCc6J0F1Z3VzdCcsJzA5JzonU2VwdGVtYmVyJywnMTAnOidPY3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGV2ZW1iZXInfQp0Z2wgPSBkYXRldGltZS5kYXRldGltZS5ub3coKS5kYXkKYmxuID0gZGljWyhzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkubW9udGgpKV0KdGhuID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkueWVhcgpva2MgPSAnT0stJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0JwpjcGMgPSAnQ1AtJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0JwojLS0tLS0tLS0tLS0tLS0tLS0tWyBNQUNISU5FLVNVUFBPUlQgXS0tLS0tLS0tLS0tLS0tLSMKZGVmIGFsdmlub194eSh1KToKICAgICAgICBmb3IgZSBpbiB1ICsgIlxuIjpzeXMuc3Rkb3V0LndyaXRlKGUpO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDA1KQpkZWYgY2xlYXIoKToKCW9zLnN5c3RlbSgnY2xlYXInKQpkZWYgYmFjaygpOgoJbG9naW4oKQojLS0tLS0tLS0tLS0tLS0tLS0tWyBCRC1URVJNVVggXS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgYmFubmVyKCk6CgljbGVhcigpCignJycgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKVreKVruKVruKVseKWlOKWlOKWlOKWlOKVsuKVreKVreKVruKVreKVruKVruKVseKWlOKWlOKWlOKWlOKVsuKVreKVreKVruKVreKVruKVruKVseKWlOKWlOKWlOKWlOKVsuKVreKVreKVrgrilbDilbLilbLilo/iloLilbLilbHiloLilpXilbHilbHila/ilbDilbLilbLilo/iloLilbLilbHiloLilpXilbHilbHila/ilbDilbLilbLilo/iloLilbLilbHiloLilpXilbHilbHila8K4pSI4pSI4pWy4paP4paH4paP4paV4paH4paV4pWx4pSI4pSI4pSI4pSI4pWy4paP4paH4paP4paV4paH4paV4pWx4pSI4pSI4pSI4pSI4pWy4paP4paH4paP4paV4paH4paV4pWx4pSI4pSICuKUiOKUiOKVseKVsuKWlOKWleKWjeKWlOKVseKVsuKUiOKUiOKUiOKUiOKVseKVsuKWlOKWleKWjeKWlOKVseKVsuKUiOKUiOKUiOKUiOKVseKVsuKWlOKWleKWjeKWlOKVseKVsuKUiOKUiArila3ilbHilbHilpXilYvilYvilYvilYvilo/ilbLilbLila7ila3ilbHilbHilpXilYvilYvilYvilYvilo/ilbLilbLila7ila3ilbHilbHilpXilYvilYvilYvilYvilo/ilbLilbLila4K4pWw4pWv4pWv4pSI4pWy4paC4paC4pWx4pSI4pWw4pWw4pWv4pWw4pWv4pWv4pSI4pWy4paC4paC4pWx4pSI4pWw4pWw4pWv4pWw4pWv4pWv4pSI4pWy4paC4paC4pWx4pSI4pWw4pWw4pWvCgkJCXttfeKAontrfeKAontofeKAontzaXJ9IEF1dGhvciA6IE1FSEVESSBIQVNBTiBUT05VIHt4fXttfeKAontrfeKAontofeKAont4fScnJykKIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBCRC1URVJNVVhdLS0tLS0tLS0tLS0tLS0jCmRlZiBsb2dpbigpOgoJdHJ5OgoJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkKCQljb2sgPSBvcGVuKCcuY29rLnR4dCcsJ3InKS5yZWFkKCkKCQl0b2tlbmt1LmFwcGVuZCh0b2tlbikKCQl0cnk6CgkJCXN5ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9maWVsZHM9aWQsbmFtZSZhY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdLCBjb29raWVzPXsnY29va2llJzpjb2t9KQoJCQlzeTIgPSBqc29uLmxvYWRzKHN5LnRleHQpWyduYW1lJ10KCQkJc3kzID0ganNvbi5sb2FkcyhzeS50ZXh0KVsnaWQnXQoJCQltZW51KHN5MixzeTMpCgkJZXhjZXB0IEtleUVycm9yOgoJCQlsb2dpbl9sYWdpMzM0KCkKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCWxpID0gJyMgUFJPQkxFTSBJTlRFUk5FVCBDT05ORUNUSU9OLCBDSEVDSyBBTkQgVFJZIEFHQUlOJwoJCQlsbyA9IG1hcmsobGksIHN0eWxlPSdyZWQnKQoJCQlzb2woKS5wcmludChsbywgc3R5bGU9J2N5YW4nKQoJCQlleGl0KCkKCWV4Y2VwdCBJT0Vycm9yOgoJCWxvZ2luX2xhZ2kzMzQoKQpkZWYgbG9naW5fbGFnaTMzNCgpOgoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCWJhbm5lcigpCgkJY2V0YWsobmVsKCdcdMKpwqnCqSBFeHRlbnNpb24gU3VnZ2VzdGlvbnMgOiBbZ3JlZW5dQ29va2llZG91Z2hbd2hpdGVdIMKpwqnCqScpKQoJCWFzdSA9IHJhbmRvbS5jaG9pY2UoW20sayxoLGIsdV0pCgkJY29va2llPWlucHV0KGYnICBbe2h94oCie3h9XU1hc3Vra2FuICBDb29raWVzIDp7YXN1fSAnKQoJCWRhdGEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYnVzaW5lc3MuZmFjZWJvb2suY29tL2J1c2luZXNzX2xvY2F0aW9ucyIsIGhlYWRlcnMgPSB7InVzZXItYWdlbnQiOiAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDYuMC4xOyBSZWRtaSA0QSBCdWlsZC9NTUIyOU0pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81OS4wLjMwNzEuOTIgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJyZWZlcmVyIjogImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8iLCJob3N0IjogImJ1c2luZXNzLmZhY2Vib29rLmNvbSIsIm9yaWdpbiI6ICJodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbSIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiIDogIjEiLCJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjciLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgiLCJjb250ZW50LXR5cGUiOiJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgifSwgY29va2llcyA9IHsiY29va2llIjpjb29raWV9KSAKCQlmaW5kX3Rva2VuID0gcmUuc2VhcmNoKCIoRUFBR1x3KykiLCBkYXRhLnRleHQpCgkJa2VuPW9wZW4oIi50b2tlbi50eHQiLCAidyIpLndyaXRlKGZpbmRfdG9rZW4uZ3JvdXAoMSkpCgkJY29rPW9wZW4oIi5jb2sudHh0IiwgInciKS53cml0ZShjb29raWUpCgkJcHJpbnQoZicgIHt4fVt7aH3igKJ7eH1de2h9IExPR0lOIFNVQ0NFU1NGVUwuLi4uLi4uLi5SdW4gdGhlIGNvbW1hbmQgYWdhaW4hISEhe3h9ICcpO3RpbWUuc2xlZXAoMSkKCQlleGl0KCkKCWV4Y2VwdCBFeGNlcHRpb24gYXMgZToKCQlvcy5zeXN0ZW0oInJtIC1mIC50b2tlbi50eHQiKQoJCW9zLnN5c3RlbSgicm0gLWYgLmNvay50eHQiKQoJCXByaW50KGYnICAlc1slc3glc10lcyBMb2dpYW4gZmxhaWxlZCAhISVzJyUoeCxrLHgsbSx4KSkKCQlleGl0KCkKIy0tLS0tLS0tLS0tLS0tLS0tLVsgQkFHSUFOLU1FTlUgXS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBtZW51KG15X25hbWUsbXlfaWQpOgoJdHJ5OgoJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkKCQljb2sgPSBvcGVuKCcuY29rLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50KCdbw5ddIENvb2tpZXMgIEV4cGlyZWQnKQoJCXRpbWUuc2xlZXAoNSkKCQlsb2dpbl9sYWdpMzM0KCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJYmFubmVyKCkKCWlwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2FwaS5pcGlmeS5vcmciKS50ZXh0CgljZXRhayhuZWwoJ1wKV2VsY29tZSBJIExvdmUgWW91IEFsaXphIGFsd2F5cyxGb3JldmVyIFtncmVlbl0lc1t3aGl0ZV0gJyUobXlfbmFtZSkpKQoJYWx2aW5vX3h5KGYnPj4gWW91ciBJZHogOiAnK3N0cihteV9pZCkpCglhbHZpbm9feHkoZic+PiBZb3VyIElwICA6IHtpcH0nKQoJcHJpbnQoJycpCglwcmludCgnPj4gMS4gQ3JhY2sgUHVibGljICcpCglwcmludCgnPj4gMi4gQ3JhY2sgRm9sbG93ZXIgJykKCXByaW50KCc+PiAzLiBDcmFjayBHcm91cCAgICcpCglwcmludCgnPj4gNC4gQ29udGFjdCBXaXRoIE5haWInKQoJcHJpbnQoJz4+IDUuIFJlc3VsdCBDcmFjayAgJykKCXByaW50KCc+PiAwLiBleGl0ICAgICAgICcpCglfX19fX2Fsdmlub19fYWRpamF5YV9fX19fID0gaW5wdXQoJ1xuPj4gQ2hvb3NlIDogJykKCWlmIF9fX19fYWx2aW5vX19hZGlqYXlhX19fX18gaW4gWycxJ106CgkJZHVtcF9tYXNzYWwoKQoJZWxpZiBfX19fX2Fsdmlub19fYWRpamF5YV9fX19fIGluIFsnMiddOgoJCWR1bXBfZm9sbG93ZXIoKQoJZWxpZiBfX19fX2Fsdmlub19fYWRpamF5YV9fX19fIGluIFsnMyddOgoJCWVycm9yKCkKCWVsaWYgX19fX19hbHZpbm9fX2FkaWpheWFfX19fXyBpbiBbJzQnXToKCQljcmFja19maWxlKCkKCWVsaWYgX19fX19hbHZpbm9fX2FkaWpheWFfX19fXyBpbiBbJzUnXToKCQlyZXN1bHQoKQoJZWxpZiBfX19fX2Fsdmlub19fYWRpamF5YV9fX19fIGluIFsnMCddOgoJCW9zLnN5c3RlbSgncm0gLXJmIC50b2tlbi50eHQnKQoJCW9zLnN5c3RlbSgncm0gLXJmIC5jb29raWUudHh0JykKCQlwcmludCgnPj5TdWNjZXNzZnVsbHkgTG9nb3V0K0RlbGV0ZSBDb29raWVzICAnKQoJCWV4aXQoKQoJZWxzZToKCQlwcmludCgnPj4gIENob29zZSB0aGUgUmlnaHQgT25lJykKCQliYWNrKCkKZGVmIGVycm9yKCk6CglwcmludChmJ3trfT4+IFNvcnJ5LCB0aGlzIGZlYXR1cmUgaXMgc3RpbGwgYmVpbmcgZml4ZWQge3h9JykKCXRpbWUuc2xlZXAoNCkKCWJhY2soKQojLS0tLS0tLS0tLS0tLS0tLS1bIEhBU0lMLUNSQUNLIF0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIHJlc3VsdCgpOgoJcHJpbnQoJz4+IFlvdXIgT0sgcmVzdWx0ICcpCglwcmludCgnPj4gWW91ciBDUCByZXN1bHQgJykKCXByaW50KCc+PiBSZXR1cm4JJykKCWt6ID0gaW5wdXQoJ1xuPj5DaG9vc2UgIDogJykKCWlmIGt6IGluIFsnMScsJzAxJ106CgkJdHJ5OnZpbiA9IG9zLmxpc3RkaXIoJ0NQJykKCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CgkJCXByaW50KCc+PiBGaWxlIE5vdCBGb3VuZCcpCgkJCXRpbWUuc2xlZXAoMykKCQkJYmFjaygpCgkJaWYgbGVuKHZpbik9PTA6CgkJCXByaW50KCc+PllvdSBIYXZlIE5vIENQIFJlc3VsdHMgICcpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJZWxzZToKCQkJY2loID0gMAoJCQlsb2wgPSB7fQoJCQlmb3IgaXNpIGluIHZpbjoKCQkJCXRyeTpoZW0gPSBvcGVuKCdDUC8nK2lzaSwncicpLnJlYWRsaW5lcygpCgkJCQlleGNlcHQ6Y29udGludWUKCQkJCWNpaCs9MQoJCQkJaWYgY2loPDEwOgoJCQkJCW5vbSA9ICcwJytzdHIoY2loKQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyBbICcrc3RyKGxlbihoZW0pKSsnIEFjY291bnQgXScreCkKCQkJCWVsc2U6CgkJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytzdHIoY2loKSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt4KQoJCQlnZWVoID0gaW5wdXQoJ1xuPj4gY2hvb3NlIDogJykKCQkJdHJ5OmdlaCA9IGxvbFtnZWVoXQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwcmludCgnPj5DaG9vc2UgdGhlIFJpZ2h0IG9wdGlvbiAnKQoJCQkJZXhpdCgpCgkJCXRyeTpsaW4gPSBvcGVuKCdDUC8nK2dlaCwncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKCQkJZXhjZXB0OgoJCQkJcHJpbnQoJz4+RmlsZSBOb3QgRm91bmQgJykKCQkJCXRpbWUuc2xlZXAoMikKCQkJCWJhY2soKQoJCQlub2NwPTAKCQkJZm9yIGNwa3UgaW4gcmFuZ2UobGVuKGxpbikpOgoJCQkJY3BrdW5pPWxpbltub2NwXS5zcGxpdCgnfCcpCgkJCQljcGt1aD1mJyMgSUQgOiB7Y3BrdW5pWzBdfSBQQVNTV09SRCA6IHtjcGt1bmlbMV19JwoJCQkJc29sKCkucHJpbnQobWFyayhjcGt1aCxzdHlsZT0ieWVsbG93IikpCgkJCQlub2NwICs9MQoJCQlpbnB1dCgnWyBjbGljayBFbnRlciBdJykKCQkJYmFjaygpCgllbGlmIGt6IGluIFsnMicsJzAyJ106CgkJdHJ5OnZpbiA9IG9zLmxpc3RkaXIoJ09LJykKCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CgkJCXByaW50KCc+PkZpbGUgTm90IEZvdW5kICcpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJaWYgbGVuKHZpbik9PTA6CgkJCXByaW50KCc+PiAgWW91IERvbnQgSGF2ZSBGaWxlIE9LJykKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQllbHNlOgoJCQljaWggPSAwCgkJCWxvbCA9IHt9CgkJCWZvciBpc2kgaW4gdmluOgoJCQkJdHJ5OmhlbSA9IG9wZW4oJ09LLycraXNpLCdyJykucmVhZGxpbmVzKCkKCQkJCWV4Y2VwdDpjb250aW51ZQoJCQkJY2loKz0xCgkJCQlpZiBjaWg8MTAwOgoJCQkJCW5vbSA9ICcwJytzdHIoY2loKQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyBbICcrc3RyKGxlbihoZW0pKSsnIEFjY291bnQgXScreCkKCQkJCWVsc2U6CgkJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytzdHIoY2loKSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt4KQoJCQlnZWVoID0gaW5wdXQoJ1xuPj4gQ2hvb3NlIDogJykKCQkJdHJ5OmdlaCA9IGxvbFtnZWVoXQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwcmludCgnPj4gQ2hvb3NlIHRoZSByaWdodCBvcHRpb24gJykKCQkJCWV4aXQoKQoJCQl0cnk6bGluID0gb3BlbignT0svJytnZWgsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJCWV4Y2VwdDoKCQkJCXByaW50KCc+PkZpbGUgTm90IEZvdW5kICAnKQoJCQkJdGltZS5zbGVlcCgyKQoJCQkJYmFjaygpCgkJCW5vY3A9MAoJCQlmb3IgY3BrdSBpbiByYW5nZShsZW4obGluKSk6CgkJCQljcGt1bmk9bGluW25vY3BdLnNwbGl0KCd8JykKCQkJCWNwa3VoPWYnIyBJRCA6IHtjcGt1bmlbMF19IFBBU1NXT1JEIDoge2Nwa3VuaVsxXX0nCgkJCQlzb2woKS5wcmludChtYXJrKGNwa3VoLHN0eWxlPSJncmVlbiIpKQoJCQkJcHJpbnQoZid7aGh9Q09PS0lFIDoge3h9e2Nwa3VuaVsyXX0nKQoJCQkJbm9jcCArPTEKCQkJaW5wdXQoJ1sgY2xpY2sgRW50ZXIgXScpCgkJCWJhY2soKQoJZWxpZiBreiBpbiBbJzAnLCcwMCddOgoJCWJhY2soKQoJZWxzZToKCQlwcmludCgnPj4gQ2hvb3NlIHRoZSBSaWdodCAnKQoJCXByaW50KCcnKQoJCW9zLnN5c3RlbSAoJ3hkZy1vcGVuIGh0dHBzOi8veW91dHViZS5jb20vY2hhbm5lbC9VQ1I2RW9LU0JzRnlJMkR5RVFFdDlLNlEnKQoJCWV4aXQoKQoJCXByaW50KCcnKQoJCW9zLnN5c3RlbSAoJ3hkZy1vcGVuIGh0dHBzOi8veW91dHViZS5jb20vY2hhbm5lbC9VQ1I2RW9LU0JzRnlJMkR5RVFFdDlLNlEnKQojLS0tLS0tLS0tLS0tLS0tLS0tLVsgQ1JBQ0stUFVCTElLIF0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgZHVtcF9tYXNzYWwoKToKCXRyeToKCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpCgkJY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlleGl0KCkKCXRyeToKCQlqdW0gPSBpbnQoaW5wdXQoJz4+IEhvdyBtdWNoIGlkIGRvIHlvdSB3YW50ID8gOiAnKSkKCWV4Y2VwdCBWYWx1ZUVycm9yOgoJCXByaW50KCc+PiAgRW50ZXIgbnVtYmVyJykKCQlleGl0KCkKCWlmIGp1bTwxIG9yIGp1bT4xMDA6CgkJcHJpbnQoJz4+IEZhaWxlZCBEdW1wIElkeiAnKQoJCWV4aXQoKQoJc2VzPXJlcXVlc3RzLlNlc3Npb24oKQoJeXogPSAwCglmb3IgbWV0IGluIHJhbmdlKGp1bSk6CgkJeXorPTEKCQlrbCA9IGlucHV0KCc+PiBFbnRlciB0aGUgSWR6IFdoaWNoIFRvICcrc3RyKHl6KSsnIDogJykKCQl1aWQuYXBwZW5kKGtsKQoJZm9yIHVzZXJyIGluIHVpZDoKCQl0cnk6CgkJCWNvbCA9IHNlcy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjAvJyt1c2VycisnP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0sIGNvb2tpZXMgPSB7J2Nvb2tpZXMnOmNva30pLmpzb24oKQoJCQlmb3IgbWkgaW4gY29sWydmcmllbmRzJ11bJ2RhdGEnXToKCQkJCXRyeToKCQkJCQlpc28gPSAobWlbJ2lkJ10rJ3wnK21pWyduYW1lJ10pCgkJCQkJaWYgaXNvIGluIGlkOnBhc3MKCQkJCQllbHNlOmlkLmFwcGVuZChpc28pCgkJCQlleGNlcHQ6Y29udGludWUKCQlleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOgoJCQlwYXNzCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQlwcmludCgnPj4gTm8gaW50ZXJuZXQgY29ubmVjdGlvbicpCgkJCWV4aXQoKQoJdHJ5OgoJCXByaW50KCcnKQoJCXByaW50KGYnPj4gVG90YWwgSWR6IENvbGxlY3RlZHtofScrc3RyKGxlbihpZCkpKQoJCXNldHRpbmcoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50KGYne3h9JykKCQlwcmludCgnPj4gTm8gaW50ZXJuZXQgY29ubmVjdGlvbiAnKQoJCWJhY2soKQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQlwcmludChmJz4+e2t9IEZyaWVubGlzdCBub3QgcHVibGlje3h9JykKCQl0aW1lLnNsZWVwKDMpCgkJcHJpbnQoJycpCgkJb3Muc3lzdGVtICgneGRnLW9wZW4gaHR0cHM6Ly95b3V0dWJlLmNvbS9jaGFubmVsL1VDUjZFb0tTQnNGeUkyRHlFUUV0OUs2UScpCgkJYmFjaygpCgkJcHJpbnQoJycpCgkJb3Muc3lzdGVtICgneGRnLW9wZW4gaHR0cHM6Ly95b3V0dWJlLmNvbS9jaGFubmVsL1VDUjZFb0tTQnNGeUkyRHlFUUV0OUs2UScpCiMtLS0tLS0tLS0tLS0tLS0tLS0tWyBDUkFDSy1QRU5HSUtVVCBdLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGR1bXBfZm9sbG93ZXIoKToKCXRyeToKCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpCgkJY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlleGl0KCkKCXByaW50KCc+PiAgVHlwZSAoIG1lICkgaWYgeW91IHdhbnQgdG8gY3JhY2sgeW91ciBvd24gZm9sbG93ZXInKQoJcGlsID0gaW5wdXQoJz4+RW50ZXIgSWR6IFRhcmdldCAgOiAnKQoJdHJ5OgoJCWtvaDIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrcGlsKyc/ZmllbGRzPXN1YnNjcmliZXJzLmxpbWl0KDk5OTk5KSZhY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdLGNvb2tpZXM9eydjb29raWUnOiBjb2t9KS5qc29uKCkKCQlmb3IgcGkgaW4ga29oMlsnc3Vic2NyaWJlcnMnXVsnZGF0YSddOgoJCQl0cnk6aWQuYXBwZW5kKHBpWydpZCddKyd8JytwaVsnbmFtZSddKQoJCQlleGNlcHQ6Y29udGludWUKCQlwcmludChmJz4+IFRvdGFsIElkeiA6e2h9ICcrc3RyKGxlbihpZCkpKQoJCXNldHRpbmcoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50KCc+PiBObyBpbnRlcm5ldCBDb25uZWN0aW9uICcpCgkJZXhpdCgpCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOgoJCXByaW50KCc+PiBGYWlsZWQgdG8gVGFrZSBUYXJnZXQgJykKCQlleGl0KCkKCQkKIy0tLS0tLS0tLS0tLS0tLS0tLVsgQ1JBQ0stR1JVUCBdLS0tLS0tLS0tLS0tLS0tLS0jCmJhbG1vbmQgPSBiKyJbIitoKyLinJMiK2IrIl0iCgpkZWYgbGFoKCk6CglwcmludCgiXHIiK2JhbG1vbmQrbSsiIFx4MWJbMTs5NW1Ub3RhbCBJRCBZYW5nIFRlcmt1bXB1bCA6XHgxYlsxOzk3bSAiK3N0cihsZW4oaWQpKSsiICAgICAgICAgICAgICAgICAgICAgIikKCWlucHV0KGJhbG1vbmQrbSArIlx4MWJbMTs5N20gY2xpY2sgW1x4MWJbMTs5Nm0gRW50ZXIgXVx4MWJbMTs5N20gSWYgeW91IHdhbnQgdG8gZGlyZWN0bHkgY3JhY2sgISEiKQoJcGFzcwoJc2V0dGluZygpCmRlZiBncnVwKCk6CglwcmludCgnJykKCWlkID0gaW5wdXQoIiIrYmFsbW9uZCtoKyIgXHgxYlsxOzk0bT4+IEVudGVyIEdyb3VwIElkIDpceDFiWzE7OTRtICIpCgl1YSA9ICdNb3ppbGxhLzUuMCAoU3ltYmlhbk9TLzkuMzsgU2VyaWVzNjAvMy4yIE5va2lhRTUyLTEvMDUyLjAwMzsgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xICkgQXBwbGVXZWJLaXQvNTI1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8zLjAgQnJvd3Nlck5HLzcuMi42LjIgM2dwcC1nYmEnCgltaXNraW5sdSA9IHsidXNlci1hZ2VudCI6IHVhfQoJdXJsID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9ncm91cHMvIitpZAoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCgl0cnk6CgkJZ24gPSBwYXJzZXIoc2VzLmdldCh1cmwsIGhlYWRlcnM9bWlza2lubHUpLnRleHQsICdodG1sLnBhcnNlcicpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQoYmFsbW9uZCttKyJJbnRlcm5ldCBDb25uZWN0aW9uIERpc2Nvbm5lY3RlZCAuLiIpCgkJdGltZS5zbGVlcCgwLjUpCgkJZXhpdCgpCgliZXJyID0gZ24uZmluZCgidGl0bGUiKQoJYmVycjIgPSBiZXJyLnRleHQucmVwbGFjZSgiIHwgRmFjZWJvb2siLCIiKS5yZXBsYWNlKCIgR3JvdXAgUHVibGljIiwiIikKCWlmIGJlcnIyPT0nRW50ZXIgRmFjZWJvb2snOgoJCXByaW50KGJhbG1vbmQrbSsiTGltaXQsIFBsZWFzZSBBaXJwbGFuZSBNb2RlIEFuZCBUcnkgQWdhaW4gLi4iKQoJCXRpbWUuc2xlZXAoMC41KQoJCWNyYWNrX2dydXAoKQoJZWxpZiBiZXJyMj09J0Vycm9yJzoKCQlqYWxhbihiYWxtb25kK20rIiBHcm91cCBOb3QgRm91bmQuLiIpCgkJdGltZS5zbGVlcCgwLjUpCgkJY3JhY2tfZ3J1cCgpCgllbHNlOnBhc3MKCXByaW50KCIiK2JhbG1vbmQrcCsiIFx4MWJbMTs5NG0+PiBOYW1lIEdyb3VwIDpceDFiWzE7OTdtICIrYmVycjIpCglnZ3MgPSBnbi5maW5kX2FsbCgndGFibGUnKQoJYW5nID0gW10KCWZvciBmZiBpbiBnZ3M6CgkJYW5nZ28gPSBmZi50ZXh0CgkJYnJvID0gYW5nZ28ucmVwbGFjZSgnQW5nZ290YScsJycpCgkJdHJ5OgoJCQltZXggPSBpbnQoYnJvKQoJCQlqdW1sYWggPSBhbmcuYXBwZW5kKG1leCkKCQlleGNlcHQ6CgkJCXBhc3MKCWlmIGxlbihhbmcpPT0wOgoJCXByaW50KGJhbG1vbmQraCsiIEFuZ2dvdGEgOiAtIikKCWVsc2U6CgkJcHJpbnQoYmFsbW9uZCtoKyIgXHgxYlsxOzk0bT4+IEFuZ2dvdGEgOlx4MWJbMTs5N20gIitzdHIoYW5nWzBdKSkKCWdydXAxKHVybCkKZGVmIGdydXAxKHVybHMpOgoJdXNlID0gW10KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJcHJpbnQoIiIrYmFsbW9uZCttKyIgXHgxYlsxOzk0SWYgU3RvcCwgQWlycGxhbmUgTW9kZSA1IFNlY29uZHMiKQoJcHJpbnQoYmFsbW9uZCttKyIgXHgxYlsxOzk0Q29sbGVjdGluZyBJRCIpCglwcmludChiYWxtb25kK20rIiBceDFiWzE7OTRQcmVzcyBDVFJMICsgQyBUbyBTdG9wIikKCXdoaWxlIFRydWU6CgkJdHJ5OgoJCQl1YSA9ICdNb3ppbGxhLzUuMCAoU3ltYmlhbk9TLzkuMzsgU2VyaWVzNjAvMy4yIE5va2lhRTUyLTEvMDUyLjAwMzsgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xICkgQXBwbGVXZWJLaXQvNTI1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8zLjAgQnJvd3Nlck5HLzcuMi42LjIgM2dwcC1nYmEnCgkJCW1pc2tpbmx1ID0geyJ1c2VyLWFnZW50IjogdWF9CgkJCXRyeToKCQkJCXVybCA9IHVzZVswXQoJCQlleGNlcHQ6CgkJCQl1cmwgPSB1cmxzCgkJCXNldCA9IHBhcnNlcihzZXMuZ2V0KHVybCwgaGVhZGVycz1taXNraW5sdSkudGV4dCwgImh0bWwucGFyc2VyIikKCQkJYmYyID0gc2V0LmZpbmRfYWxsKCdhJykKCQkJZm9yIGcgaW4gYmYyOgoJCQkJY3NzID0gc3RyKGcpLnNwbGl0KCc+JykKCQkJCWlmICdMaWhhdCBQb3N0aW5nYW4gTGFpbm55YTwvc3BhbicgaW4gY3NzOgoJCQkJCWJjaiA9IHN0cihnKS5yZXBsYWNlKCc8YSBocmVmPSInLCcnKS5yZXBsYWNlKCdhbXA7JywnJykKCQkJCQliY2oyID0gYmNqLnNwbGl0KCcgJylbMF0ucmVwbGFjZSgnIj48aW1nJywnJykKCQkJdGVzID0gc2V0LmZpbmRfYWxsKCd0YWJsZScpCgkJCWZvciBjYXJpIGluIHRlczoKCQkJCWxpYXRuaWggPSBjYXJpLnRleHQKCQkJCXNwbCA9IGxpYXRuaWguc3BsaXQoJyAnKQoJCQkJaWYgJ21lbmdhanVrYW4nIGluIHNwbDoKCQkJCQlpZHNpYXBhID0gcmUuZmluZGFsbCgnY29udGVudF9vd25lcl9pZF9uZXcuXHcrJyxzdHIoY2FyaSkpCgkJCQkJaWR5b3UgPQlpZHNpYXBhWzBdLnJlcGxhY2UoJ2NvbnRlbnRfb3duZXJfaWRfbmV3LicsJycpCgkJCQkJbmFtYXlvdSA9IGxpYXRuaWgucmVwbGFjZSgnIG1lbmdhanVrYW4gcGVydGFueWFhbiAuJywnJykKCQkJCQlpZGt1ID0gaWR5b3UrJ3wnK25hbWF5b3UKCQkJCQlpZiBpZGt1IGluIGlkOgoJCQkJCQljb250aW51ZQoJCQkJCWVsc2U6CgkJCQkJCWlkLmFwcGVuZChpZGt1KQoJCQkJCQlwcmludCgoIlxyIitiYWxtb25kK2grIiB7ICIraysiUHJvc2VzIE1lbmdhbWJpbCBJRCAiK3N0cihsZW4oaWQpKStoKyIgfSIpLCBlbmQ9IiIpO3N5cy5zdGRvdXQuZmx1c2goKQoJCQkJZWxpZiAnPicgaW4gc3BsOgoJCQkJCWlkc2lhcGEgPSByZS5maW5kYWxsKCdjb250ZW50X293bmVyX2lkX25ldy5cdysnLHN0cihjYXJpKSkKCQkJCQlpZHlvdSA9CWlkc2lhcGFbMF0ucmVwbGFjZSgnY29udGVudF9vd25lcl9pZF9uZXcuJywnJykKCQkJCQluYW1heW91ID0gbGlhdG5paC5zcGxpdCgnID4gJylbMF0KCQkJCQlpZGt1ID0gaWR5b3UrJ3wnK25hbWF5b3UKCQkJCQlpZiBpZGt1IGluIGlkOgoJCQkJCQljb250aW51ZQoJCQkJCWVsc2U6CgkJCQkJCWlkLmFwcGVuZChpZGt1KQoJCQkJCQlwcmludCgoIlxyIitiYWxtb25kK2grIiB7ICIrTysiTWVuZ3VtcHVsa2FuIElEICIrc3RyKGxlbihpZCkpK2grIiB9IiksIGVuZD0iIik7c3lzLnN0ZG91dC5mbHVzaCgpCgkJCQllbHNlOgoJCQkJCWNvbnRpbnVlCgkJCXRyeToKCQkJCWxpbmtfID0gYmNqMgoJCQkJdXNlLmluc2VydCgwLCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nK2xpbmtfKQoJCQlleGNlcHQ6CgkJCQlnaXJhbmcgPSBzZXQuZmluZCgndGl0bGUnKQoJCQkJZ2lyYW5nMiA9IGdpcmFuZy50ZXh0LnJlcGxhY2UoIiB8IEZhY2Vib29rIiwiIikucmVwbGFjZSgiIEdydXAgUHVibGlrIiwiIikKCQkJCWlmIGdpcmFuZzI9PSdFbnRlciBGYWNlYm9vayc6CgkJCQkJcGFzcwoJCQkJZWxzZToKCQkJCQlsYWgoKQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdHJ5OgoJCQkJdGltZS5zbGVlcCgzMSkKCQkJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgoJCQkJbGFoKCkKCQlleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CgkJCWxhaCgpCiMtLS0tLS0tLS0tLS0tWyBDUkFDSy1GUk9NLUZJTEUgXS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGNyYWNrX2ZpbGUoKToKCXByaW50KCcnKQoJcHJpbnQoJ015IFdoYXRzQXBwICs5MjMyMDA1OTYzMjUnKQoKCQoJCiMtLS0tLS0tLS0tLS0tWyBQRU5HQVRVUkFOLUlEWiBdLS0tLS0tLS0tLS0tLS0tIwpkZWYgc2V0dGluZygpOgoJcHJpbnQoZid7eH0+PiAxLiBDcmFjayBPbGQgJykKCXByaW50KCc+PiAyLiBDcmFjayBOZXcgJykKCXByaW50KCc+PiAzLiBDcmFjayBSYW5kb20gJykKCXByaW50KCcnKQoJaHUgPSBpbnB1dCgnPj4gQ2hvb3NlIDogJykKCWlmIGh1IGluIFsnMScsJzAxJ106CgkJZm9yIHR1YSBpbiBzb3J0ZWQoaWQpOgoJCQlpZDIuYXBwZW5kKHR1YSkKCgllbGlmIGh1IGluIFsnMicsJzAyJ106CgkJbXVkYT1bXQoJCWZvciBiYWNvdCBpbiBzb3J0ZWQoaWQpOgoJCQltdWRhLmFwcGVuZChiYWNvdCkKCQliY209bGVuKG11ZGEpCgkJYmNtaT0oYmNtLTEpCgkJZm9yIHhtdWQgaW4gcmFuZ2UoYmNtKToKCQkJaWQyLmFwcGVuZChtdWRhW2JjbWldKQoJCQliY21pIC09MQoJZWxpZiBodSBpbiBbJzMnLCcwMyddOgoJCWZvciBiYWNvdCBpbiBpZDoKCQkJeHggPSByYW5kb20ucmFuZGludCgwLGxlbihpZDIpKQoJCQlpZDIuaW5zZXJ0KHh4LGJhY290KQoJZWxzZToKCQlwcmludCgnPj5DaG9vc2UgdGhlIFJpZ2h0IE1ldGhvZCAgJykKCQlleGl0KCkKCXByaW50KCc+PiAxLiBNb2JpbGUgJykKIwlwcmludCgnPj4gMi4gTWJhc2ljICcpCiMJcHJpbnQoJz4+IDMuIFRvdWNoICAnKQojCXByaW50KCc+PiA0LiBNdG91Y2ggJykKCXByaW50KCcnKQoJaGMgPSBpbnB1dCgnPj4gQ2hvb3NlIDogJykKCWlmIGhjIGluIFsnMScsJzAxJ106CgkJbWV0aG9kLmFwcGVuZCgnbW9iaWxlJykKIwllbGlmIGhjIGluIFsnMicsJzAyJ106CiMJCW1ldGhvZC5hcHBlbmQoJ2ZyZWUnKQojCWVsaWYgaGMgaW4gWyczJywnMDMnXToKIwkJbWV0aG9kLmFwcGVuZCgndG91Y2gnKQoJZWxpZiBoYyBpbiBbJzQnLCcwNCddOgoJCW1ldGhvZC5hcHBlbmQoJ21iYXNpYycpCgllbHNlOgoJCW1ldGhvZC5hcHBlbmQoJ21vYmlsZScpCglwcmludCgnJykKIwlfamVtYm90XyA9IGlucHV0KCc+PiBUYW1iYWhrYW4gQXBsaWthc2kgVGVya2FpdCAoIFkvdCApICcpCiMJaWYgX2plbWJvdF8gaW4gWycnXToKIwkJcHJpbnQoJz4+IFBpbGloIFlhbmcgQmVuZXIgS29udG9sICcpCiMJCWJhY2soKQojCWVsaWYgX2plbWJvdF8gaW4gWyd5JywnWSddOgojCQl0YXBsaWthc2kuYXBwZW5kKCd5YScpCiMJZWxzZToKIwkJdGFwbGlrYXNpLmFwcGVuZCgnbm8nKQoJcHdwbHVzPWlucHV0KCc+PiBBZGQgUGFzc3dvcmQgTWFudWFsICggWS90ICkgJykKCWlmIHB3cGx1cyBpbiBbJ3knLCdZJ106CgkJcHdwbHVzcy5hcHBlbmQoJ3lhJykKCQljZXRhayhuZWwoJ1tbY3lhbl3igKJbd2hpdGVdXSBFbnRlciBhbiBhZGRpdGlvbmFsIHBhc3N3b3JkIG9mIGF0IGxlYXN0IDYgY2hhcmFjdGVyc1xuW1tjeWFuXeKAolt3aGl0ZV1dIENvbnRvaCA6W2dyZWVuXSBrYWthayxuZ2VudG9kLGFkaWtbd2hpdGVdICcpKQoJCXB3a3U9aW5wdXQoJz4+RW50ZXIgQWRkaXRpb25hbCBQYXNzd29yZCAgOiAnKQoJCXB3a3VoPXB3a3Uuc3BsaXQoJywnKQoJCWZvciB4cHcgaW4gcHdrdWg6CgkJCXB3bnlhLmFwcGVuZCh4cHcpCgllbHNlOgoJCXB3cGx1c3MuYXBwZW5kKCdubycpCglwYXNzd3JkKCkKIy0tLS0tLS0tLS0tLS0tLS0tLS1bIEJBR0lBTi1XT1JETElTVCBdLS0tLS0tLS0tLS0tIwpkZWYgcGFzc3dyZCgpOgoJcHJpbnQoZic+Pj4+PiB7bX3igKJ7a33igKJ7aH3igKJ7eH0gXHgxYlsxOzkxbSBPeWUgWW91IEtub3cgSSBPbmx5IExvdmUgVG8gQWxpemEge2194oCie2t94oCie2h94oCie3h9IDw8PDw8ICcpCglwcmludCgnJykKCXByaW50KGYnPj4gSGFzaWwge2h9T0t7eH0gVGVyc2ltcGFuIERpIDoge2h9T0svJXMge3h9JyUob2tjKSkKCXByaW50KGYnPj4gSGFzaWwge2t9Q1B7eH0gVGVyc2ltcGFuIERpIDoge2t9Q1AvJXMge3h9JyUoY3BjKSkKCXByaW50KGYnPj5QbGF5IEFpcnBsYW5lIE1vZGUgRXZlcnkge219MWt7eH0gSWR6XG4nKQoJd2l0aCB0cmVkKG1heF93b3JrZXJzPTMwKSBhcyBwb29sOgoJCWZvciB5dXpvbmcgaW4gaWQyOgoJCQlpZGYsbm1mID0geXV6b25nLnNwbGl0KCd8JylbMF0seXV6b25nLnNwbGl0KCd8JylbMV0ubG93ZXIoKQoJCQlmcnMgPSBubWYuc3BsaXQoJyAnKVswXQoJCQlwd3YgPSBbXQoJCQlpZiBsZW4obm1mKTw2OgoJCQkJaWYgbGVuKGZycyk8MzoKCQkJCQlwYXNzCgkJCQllbHNlOgoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjMnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0JykKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDUnKQoJCQkJCXB3di5hcHBlbmQoZnJzKyc3ODY3ODYnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMTIyMzMnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycyMDIyJykKCQkJCQlwd3YuYXBwZW5kKGZycysnMDAwMCcpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzE1MTUnKQoJCQllbHNlOgoJCQkJaWYgbGVuKGZycyk8MzoKCQkJCQlwd3YuYXBwZW5kKG5tZikKCQkJCWVsc2U6CgkJCQkJcHd2LmFwcGVuZChubWYpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMycpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NScpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzc4Njc4NicpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzExMjIzMycpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzIwMjInKQoJCQkJCXB3di5hcHBlbmQoZnJzKycwMDAwJykKCQkJCQlwd3YuYXBwZW5kKGZycysnMTUxNScpCgkJCWlmICd5YScgaW4gcHdwbHVzczoKCQkJCWZvciB4cHdkIGluIHB3bnlhOgoJCQkJCXB3di5hcHBlbmQoeHB3ZCkKCQkJZWxzZTpwYXNzCgkJCWlmICdtb2JpbGUnIGluIG1ldGhvZDoKCQkJCXBvb2wuc3VibWl0KGNyYWNrLGlkZixwd3YpCgkJCWVsaWYgJ2ZyZWUnIGluIG1ldGhvZDoKCQkJCXBvb2wuc3VibWl0KGNyYWNrZnJlZSxpZGYscHd2KQoJCQllbGlmICd0b3VjaCcgaW4gbWV0aG9kOgoJCQkJcG9vbC5zdWJtaXQoY3JhY2t0b3VjaCxpZGYscHd2KQoJCQllbGlmICdtYmFzaWMnIGluIG1ldGhvZDoKCQkJCXBvb2wuc3VibWl0KGNyYWNrbWJhc2ljLGlkZixwd3YpCgkJCWVsc2U6CgkJCQlwb29sLnN1Ym1pdChjcmFja21iYXNpYyxpZGYscHd2KQoJcHJpbnQoJycpCgljZXRhayhuZWwoJ1x0W2N5YW5dPj5bZ3JlZW5dQ3JhY2sgQ29tcGxldGUsIERvbnQgRm9yZ2V0IHRvIEJlIFRoYW5rZnVsIFtjeWFuXSA8PFt3aGl0ZV0gJykpCglwcmludChmJ1t7Yn3igKJ7eH1de2h9IE9LIDoge2h9JXMgJyUob2spKQoJcHJpbnQoZid7eH1be2J94oCie3h9XXtrfSBDUCA6IHtrfSVze3h9ICclKGNwKSkKCXByaW50KCcnKQoJcHJpbnQoJ0NvbnRpbnVlIENyYWNraW5nIEJhY2soIFkvdCApID8nKQoJd29pID0gaW5wdXQoJz4+IENob29zZSA6ICcpCglpZiB3b2kgaW4gWyd5JywnWSddOgoJCWJhY2soKQoJZWxzZToKCQlwcmludChmJ1x0e3h9Pj57a31Hb29kIEJ5ZSBKYWFuIHt4fSA8PCAnKQoJCXRpbWUuc2xlZXAoMikKCQlleGl0KCkKIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBNRVRPREUtQi1BUEkgXS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY3JhY2soaWRmLHB3dik6CglnbG9iYWwgbG9vcCxvayxjcAoJYm8gPSByYW5kb20uY2hvaWNlKFttLGssaCxiLHUseF0pCglzeXMuc3Rkb3V0LndyaXRlKGYiXHLwn46JIHtQfVt7Yn17bG9vcH17UH0ve3V9e2xlbihpZCl9e1B9XeKAlHtQfVt7SH17b2t9e1B9XeKAlHtQfVt7a317Y3B9e3h9XeKAlFt7Ym99eyd7Oi4wJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihpZCkpKX17UH1dICAiKSwKCXN5cy5zdGRvdXQuZmx1c2goKQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pCgl1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCglmb3IgcHcgaW4gcHd2OgoJCXRyeToKCQkJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkKCQkJcHJveHM9IHsnaHR0cCc6ICdzb2NrczQ6Ly8nK25pcH0KCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsnSG9zdCc6ICdtLmZhY2Vib29rLmNvbScsJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsJ3VzZXItYWdlbnQnOiB1YSwnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43J30pCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mbmV4dD1odHRwcyUzQSUyRiUyRm0uZmFjZWJvb2suY29tJTJGdjIuMyUyRmRpYWxvZyUyRm9hdXRoJTNGYXBwX2lkJTNEMTI0MDI0NTc0Mjg3NDE0JTI2Y2J0JTNEMTY1MTY1ODIwMDk3OCUyNmUyZSUzRCUyNTdCJTI1MjJpbml0JTI1MjIlMjUzQTE2NTE2NTgyMDA5NzglMjU3RCUyNnNzbyUzRGNocm9tZV9jdXN0b21fdGFiJTI2c2NvcGUlM0RlbWFpbCUyNnN0YXRlJTNEJTI1N0IlMjUyMjBfYXV0aF9sb2dnZXJfaWQlMjUyMiUyNTNBJTI1MjI2OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYlMjUyMiUyNTJDJTI1MjI3X2NoYWxsZW5nZSUyNTIyJTI1M0ElMjUyMmRhaGoyOGhxdGlldG1ocmdwcnBwJTI1MjIlMjUyQyUyNTIyM19tZXRob2QlMjUyMiUyNTNBJTI1MjJjdXN0b21fdGFiJTI1MjIlMjU3RCUyNnJlZGlyZWN0X3VyaSUzRGZiY29ubmVjdCUyNTNBJTI1MkYlMjUyRmNjdC5jb20uaW5zdGF0aHVuZGVyLmFwcCUyNnJlc3BvbnNlX3R5cGUlM0R0b2tlbiUyNTJDc2lnbmVkX3JlcXVlc3QlMjUyQ2dyYXBoX2RvbWFpbiUyNTJDZ3JhbnRlZF9zY29wZXMlMjZyZXR1cm5fc2NvcGVzJTNEdHJ1ZSUyNnJldCUzRGxvZ2luJTI2ZmJhcHBfcHJlcyUzRDAlMjZsb2dnZXJfaWQlM0Q2OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYlMjZ0cCUzRHVuc3BlY2lmaWVkJmNhbmNlbF91cmw9ZmJjb25uZWN0JTNBJTJGJTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJTNGZXJyb3IlM0RhY2Nlc3NfZGVuaWVkJTI2ZXJyb3JfY29kZSUzRDIwMCUyNmVycm9yX2Rlc2NyaXB0aW9uJTNEUGVybWlzc2lvbnMlMkJlcnJvciUyNmVycm9yX3JlYXNvbiUzRHVzZXJfZGVuaWVkJTI2c3RhdGUlM0QlMjU3QiUyNTIyMF9hdXRoX2xvZ2dlcl9pZCUyNTIyJTI1M0ElMjUyMjY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNTIyJTI1MkMlMjUyMjdfY2hhbGxlbmdlJTI1MjIlMjUzQSUyNTIyZGFoajI4aHF0aWV0bWhyZ3BycHAlMjUyMiUyNTJDJTI1MjIzX21ldGhvZCUyNTIyJTI1M0ElMjUyMmN1c3RvbV90YWIlMjUyMiUyNTdEJmRpc3BsYXk9dG91Y2gmbG9jYWxlPWlkX0lEJnBsX2RibD0wJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS92Mi4zL2RpYWxvZy9vYXV0aD9hcHBfaWQ9MTI0MDI0NTc0Mjg3NDE0JmNidD0xNjUxNjU4MjAwOTc4JmUyZT0lN0IlMjJpbml0JTIyJTNBMTY1MTY1ODIwMDk3OCU3RCZzc289Y2hyb21lX2N1c3RvbV90YWImc2NvcGU9ZW1haWwmc3RhdGU9JTdCJTIyMF9hdXRoX2xvZ2dlcl9pZCUyMiUzQSUyMjY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyMiUyQyUyMjdfY2hhbGxlbmdlJTIyJTNBJTIyZGFoajI4aHF0aWV0bWhyZ3BycHAlMjIlMkMlMjIzX21ldGhvZCUyMiUzQSUyMmN1c3RvbV90YWIlMjIlN0QmcmVkaXJlY3RfdXJpPWZiY29ubmVjdCUzQSUyRiUyRmNjdC5jb20uaW5zdGF0aHVuZGVyLmFwcCZyZXNwb25zZV90eXBlPXRva2VuJTJDc2lnbmVkX3JlcXVlc3QlMkNncmFwaF9kb21haW4lMkNncmFudGVkX3Njb3BlcyZyZXR1cm5fc2NvcGVzPXRydWUmcmV0PWxvZ2luJmZiYXBwX3ByZXM9MCZsb2dnZXJfaWQ9NjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JnRwPXVuc3BlY2lmaWVkIiwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LH0KCQkJa29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJa29raSs9JyBtX3BpeGVsX3JhdGlvPTIuNjI1OyB3ZD00MTJ4NzU2JwoJCQloZWFkZT17J0hvc3QnOiAnbS5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iOTgiJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCdvcmlnaW4nOiAnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbScsJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCd1c2VyLWFnZW50JzogdWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCd4LXJlcXVlc3RlZC13aXRoJzogJ1hNTEh0dHBSZXF1ZXN0Jywnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLCdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLCdyZWZlcmVyJzogJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3Bhc3N3b3JkLz91aWQ9JytpZGYrJyZmbG93PWxvZ2luX25vX3BpbiZuZXh0PWh0dHBzJTNBJTJGJTJGbS5mYWNlYm9vay5jb20lMkZ2Mi4zJTJGZGlhbG9nJTJGb2F1dGglM0ZhcHBfaWQlM0QxMjQwMjQ1NzQyODc0MTQlMjZjYnQlM0QxNjUxNjU4MjAwOTc4JTI2ZTJlJTNEJTI1N0IlMjUyMmluaXQlMjUyMiUyNTNBMTY1MTY1ODIwMDk3OCUyNTdEJTI2c3NvJTNEY2hyb21lX2N1c3RvbV90YWIlMjZzY29wZSUzRGVtYWlsJTI2c3RhdGUlM0QlMjU3QiUyNTIyMF9hdXRoX2xvZ2dlcl9pZCUyNTIyJTI1M0ElMjUyMjY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNTIyJTI1MkMlMjUyMjdfY2hhbGxlbmdlJTI1MjIlMjUzQSUyNTIyZGFoajI4aHF0aWV0bWhyZ3BycHAlMjUyMiUyNTJDJTI1MjIzX21ldGhvZCUyNTIyJTI1M0ElMjUyMmN1c3RvbV90YWIlMjUyMiUyNTdEJTI2cmVkaXJlY3RfdXJpJTNEZmJjb25uZWN0JTI1M0ElMjUyRiUyNTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJTI2cmVzcG9uc2VfdHlwZSUzRHRva2VuJTI1MkNzaWduZWRfcmVxdWVzdCUyNTJDZ3JhcGhfZG9tYWluJTI1MkNncmFudGVkX3Njb3BlcyUyNnJldHVybl9zY29wZXMlM0R0cnVlJTI2cmV0JTNEbG9naW4lMjZmYmFwcF9wcmVzJTNEMCUyNmxvZ2dlcl9pZCUzRDY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNnRwJTNEdW5zcGVjaWZpZWQmY2FuY2VsX3VybD1mYmNvbm5lY3QlM0ElMkYlMkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAlM0ZlcnJvciUzRGFjY2Vzc19kZW5pZWQlMjZlcnJvcl9jb2RlJTNEMjAwJTI2ZXJyb3JfZGVzY3JpcHRpb24lM0RQZXJtaXNzaW9ucyUyQmVycm9yJTI2ZXJyb3JfcmVhc29uJTNEdXNlcl9kZW5pZWQlMjZzdGF0ZSUzRCUyNTdCJTI1MjIwX2F1dGhfbG9nZ2VyX2lkJTI1MjIlMjUzQSUyNTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI1MjIlMjUyQyUyNTIyN19jaGFsbGVuZ2UlMjUyMiUyNTNBJTI1MjJkYWhqMjhocXRpZXRtaHJncHJwcCUyNTIyJTI1MkMlMjUyMjNfbWV0aG9kJTI1MjIlMjUzQSUyNTIyY3VzdG9tX3RhYiUyNTIyJTI1N0QmZGlzcGxheT10b3VjaCZsb2NhbGU9aWRfSUQmcGxfZGJsPTAmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicsJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9CgkJCXBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAmbG9jYWxlMj1pZF9JRCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19yZWRpcmVjdHM9RmFsc2UscHJveGllcz1wcm94cykKCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlwcmludChmJ1xye0t9Pj4ge2lkZn18e3B3fXtOfScpICAgICAKCQkJCW9zLnBvcGVuKCdwbGF5LWF1ZGlvIC5jcC5tcDMnKQoJCQkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJY3ArPTEKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlvays9MQoJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCXByaW50KGYnXHJ7SH0+PiB7aWRmfXx7cHd9fHtrdWtpfVxue3VhfXtOfScpCgkJCQlvcy5wb3BlbigncGxheS1hdWRpbyAub2subXAzJykKCQkJCW9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcrdWErJ1xuJykKCQkJCWNla19hcGsoc2Vzc2lvbixjb2tpKQoJCQkJYnJlYWsKCQkJCQoJCQllbHNlOgoJCQkJY29udGludWUKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCXRpbWUuc2xlZXAoMzEpCglsb29wKz0xCiMtLS0tLS0tLS0tLS0tLS0tLS1bIE1FVEhPREUtTUJBU0lDLTIgXS0tLS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBjcmFja2ZyZWUoaWRmLHB3dik6CglnbG9iYWwgbG9vcCxvayxjcAoJc3lzLnN0ZG91dC53cml0ZShmIlxyIHtQfVt7YXN1fU1iYXNpY3tQfV17UH1be2J9e2xvb3B9e1B9L3twfXtsZW4oaWQpfXtQfV3igJR7UH1be0h9e29rfXtQfV3igJR7UH1be2t9e2NwfXt4fV3igJRbe219eyd7Oi4wJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihpZCkpKX17UH1dICAiKSwKCXN5cy5zdGRvdXQuZmx1c2goKQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pCgl1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCglmb3IgcHcgaW4gcHd2OgoJCXRyeToKCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsnSG9zdCc6ICdmcmVlLmZhY2Vib29rLmNvbScsJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsJ3VzZXItYWdlbnQnOiB1YTIsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9KQoJCQlwID0gc2VzLmdldCgnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQoJCQlrb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gcC5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQlrb2tpKz0nIG1fcGl4ZWxfcmF0aW89Mi42MjU7IHdkPTQxMng3NTYnCgkJCWhlYWRlPXsnSG9zdCc6ICdmcmVlLmZhY2Vib29rLmNvbScsJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywnc2VjLWNoLXVhJzogJyIgTm90IEE7QnJhbmQiO3Y9Ijk5IiwgIkNocm9taXVtIjt2PSI5OCInLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJBbmRyb2lkIicsJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsJ29yaWdpbic6ICdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tJywnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsJ3VzZXItYWdlbnQnOiB1YSwnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ3JlZmVyZXInOiAnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInLCdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnbXMtTVksbXM7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnLCdjb25uZWN0aW9uJzogJ2Nsb3NlJ30KCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19yZWRpcmVjdHM9RmFsc2UscHJveGllcz1wcm94cykKCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlwcmludChmJ1xye0t9Pj4ge2lkZn18e3B3fXtOfScpICAgICAKCQkJCW9zLnBvcGVuKCdwbGF5LWF1ZGlvIC5jcC5tcDMnKQoJCQkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJY3ArPTEKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlvays9MQoJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCXByaW50KGYnXHJ7SH0+PiB7aWRmfXx7cHd9fHtrdWtpfXtOfScpCgkJCQlvcy5wb3BlbigncGxheS1hdWRpbyAub2subXAzJykKCQkJCW9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJY2VrX2FwayhzZXNzaW9uLGNva2kpCgkJCQlicmVhawoJCQkJCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS1bIE1FVEhPREUtVE9VQ0gtMyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY3JhY2t0b3VjaChpZGYscHd2KToKCWdsb2JhbCBsb29wLG9rLGNwCgliaSA9IHJhbmRvbS5jaG9pY2UoW3UsayxrayxiLGgsaGhdKQoJcGVycyA9IGxvb3AqMTAwL2xlbihpZDIpCglmZmYgPSAnJScKCW5pcD1yYW5kb20uY2hvaWNlKHByb3gpCglwcm94cz0geydodHRwJzogJ3NvY2tzNTovLycrbmlwfQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pCgl1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCglzeXMuc3Rkb3V0LndyaXRlKCdcciVzIOKYrCAlcy8lcyDimKwgT0s6JXMg4pisIENQOiVzIOKYrCAlcyVzJXMg4pisJyUoYmksbG9vcCxsZW4oaWQyKSxvayxjcCxpbnQocGVycyksc3RyKGZmZikseCkpO3N5cy5zdGRvdXQuZmx1c2goKQoJZm9yIHB3IGluIHB3djoKCQl0cnk6CgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7J0hvc3QnOiAndG91Y2guZmFjZWJvb2suY29tJywnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45Jywnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLCdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnfSkKCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vdG91Y2guZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL3RvdWNoLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQoJCQlrb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gcC5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQlrb2tpKz0nIG1fcGl4ZWxfcmF0aW89Mi42MjU7IHdkPTQxMng3NTYnCgkJCWhlYWRlPXsnSG9zdCc6ICd0b3VjaC5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iOTgiJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCdvcmlnaW4nOiAnaHR0cHM6Ly90b3VjaC5mYWNlYm9vay5jb20nLCdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywncmVmZXJlcic6ICdodHRwczovL3RvdWNoLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInLCdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnZnJfRlIsZnI7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnLCdjb25uZWN0aW9uJzogJ2Nsb3NlJ30KCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly90b3VjaC5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlLHByb3hpZXM9cHJveHMpCgkJCWlmICJjaGVja3BvaW50IiBpbiBwby5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJaWYgJ3lhJyBpbiBvcHJlazoKCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJCWNla2VyKGlkZixwdykKCQkJCWVsaWYgJ3lhJyBpbiBwcmluY3A6CgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNjcCA9IGYnW+KAol0gSUQgICAgICAgOiB7aWRmfSBb4oCiXSBQQVNTV09SRCA6IHtwd30nCgkJCQkJc3RhdHVzY3AxID0gbmVsKHN0YXR1c2NwLCBzdHlsZT0ncmVkJykKCQkJCQljZXRhayhuZWwoc3RhdHVzY3AxLCB0aXRsZT0nVE9OVS1DUCcpKQoJCQkJCW9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBL0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY3ArPTEKCQkJCWVsc2U6Y29udGludWUKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQloZWFkYXBwPXsidXNlci1hZ2VudCI6IlN1cHBvcnRzRnJlc2NvPTEgRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA2LjAuMTsgU00tSjIxMEYgQnVpbGQvTU1CMjlRKSBTb3VyY2UvMSBbRkJBTi9FTUE7VU5JVFlfUEFDS0FHRS8zNDI7RkJCVi8xMDc1ODY3MDY7RkJBVi8xNzIuMC4wLjguMTgyO0ZCRFYvU00tSjIxMEY7RkJMQy9pZF9JRDtGQk9QLzIwXSJ9CgkJCQlpZiAnbm8nIGluIHRhcGxpa2FzaToKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCcvc2RjYXJkLzRNQkYtREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nVE9OVS1PSycpKQoJCQkJCW9rKz0xCgkJCQkJYnJlYWsKCQkJCWVsaWYgJ3lhJyBpbiB0YXBsaWthc2k6CgkJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCQkJb3BlbignL3NkY2FyZC80TUJGLURBVEEvT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpCgkJCQkJdXNlcj1pZGYKCQkJCQlpbmZvYWt1biA9ICIiCgkJCQkJc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQoJCQkJCWNlazIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQljZWsgPXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQlpbmZvYWt1biArPSAoZiJcbltib2xkIGN5YW5dW+KAol0gTElTVCBBQ1RJVkUgQVBQTElDQVRJT05TIDpbL2JvbGQgY3lhbl0gXG4iKQoJCQkJCWFwa2FrdGlmPXJlLmZpbmRhbGwoJzwvaT48ZGl2IGNsYXNzPSIuKj8iPjxzcGFuIGNsYXNzPSIuKj8iPiguKj8pPC9zcGFuPjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iLio/Ij4oLio/KTwvZGl2PjwvZGl2Picsc3RyKGNlaykpCgkJCQkJbm9rPTEKCQkJCQlmb3IgbXVuY3VsIGluIGFwa2FrdGlmOgoJCQkJCQlpbmZvYWt1bis9IChmIltib2xkIGN5YW5dW3tub2t9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCBjeWFuXVxuIikKCQkJCQkJbm9rKz0xCgoJCQkJCWhpdD0wCgkJCQkJaW5mb2FrdW4gKz0gKGYiXG5bYm9sZCB5ZWxsb3ddW+KAol0gTElTVCBFWFBJUkVEIEFQUExJQ0FUSU9OUyA6Wy9ib2xkIHllbGxvd11cbiIpCgkJCQkJYXBrZXhwPXJlLmZpbmRhbGwoJzwvaT48ZGl2IGNsYXNzPSIuKj8iPjxzcGFuIGNsYXNzPSIuKj8iPiguKj8pPC9zcGFuPjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iLio/Ij4oLio/KTwvZGl2PjwvZGl2Picsc3RyKGNlazIpKQoJCQkJCWhpdD0wCgkJCQkJZm9yIG11bmN1bCBpbiBhcGtleHA6CgkJCQkJCWhpdCs9MQoJCQkJCQlpbmZvYWt1biArPSAoZiJbYm9sZCB5ZWxsb3ddW3toaXR9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCB5ZWxsb3ddXG4iKQoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzb2sgPSBmJ1tib2xkIGdyZWVuXVvigKJdIElEICAgICAgIDoge2lkZn1cblvigKJdIFBBU1NXT1JEIDoge3B3fVxuW+KAol0gQ09PS0lFUyAgOiB7a3VraX1bL2JvbGQgZ3JlZW5dXG57aW5mb2FrdW59JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nW2JvbGQgZ3JlZW5dQU9SRUMtWEQgT0tbL2JvbGQgZ3JlZW5dJykpCgkJCQkJb2srPTEKCQkJCQlicmVhawoKCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIE1FVEhPREUtTVRPVUNIK01PQklMRS00IF0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGNyYWNrbWJhc2ljKGlkZixwd3YpOgoJZ2xvYmFsIGxvb3Asb2ssY3AKCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pCglwZXJzID0gbG9vcCoxMDAvbGVuKGlkMikKCWZmZiA9ICclJwoJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkKCXByb3hzPSB7J2h0dHAnOiAnc29ja3M1Oi8vJytuaXB9Cgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCXN5cy5zdGRvdXQud3JpdGUoJ1xyJXMg4pisICVzLyVzIOKYrCBPSzolcyDimKwgQ1A6JXMg4pisICVzJXMlcyDimKwnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSk7c3lzLnN0ZG91dC5mbHVzaCgpCglmb3IgcHcgaW4gcHd2OgoJCXRyeToKCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45Jywnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLCdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnfSkKCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9CgkJCWtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicKCQkJaGVhZGU9eydIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iOTgiJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCdvcmlnaW4nOiAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJywnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsJ3VzZXItYWdlbnQnOiB1YSwnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ3JlZmVyZXInOiAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicsJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsJ2FjY2VwdC1sYW5ndWFnZSc6ICdmcl9GUixmcjtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycsJ2Nvbm5lY3Rpb24nOiAnY2xvc2UnfQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlLHByb3hpZXM9cHJveHMpCgkJCWlmICJjaGVja3BvaW50IiBpbiBwby5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJaWYgJ3lhJyBpbiBvcHJlazoKCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJCWNla2VyKGlkZixwdykKCQkJCWVsaWYgJ3lhJyBpbiBwcmluY3A6CgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNjcCA9IGYnW+KAol0gSUQgICAgICAgOiB7aWRmfSBb4oCiXSBQQVNTV09SRCA6IHtwd30nCgkJCQkJc3RhdHVzY3AxID0gbmVsKHN0YXR1c2NwLCBzdHlsZT0ncmVkJykKCQkJCQljZXRhayhuZWwoc3RhdHVzY3AxLCB0aXRsZT0nVE9OVS1DUCcpKQoJCQkJCW9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBL0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY3ArPTEKCQkJCWVsc2U6Y29udGludWUKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQloZWFkYXBwPXsidXNlci1hZ2VudCI6IlN1cHBvcnRzRnJlc2NvPTEgRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA2LjAuMTsgU00tSjIxMEYgQnVpbGQvTU1CMjlRKSBTb3VyY2UvMSBbRkJBTi9FTUE7VU5JVFlfUEFDS0FHRS8zNDI7RkJCVi8xMDc1ODY3MDY7RkJBVi8xNzIuMC4wLjguMTgyO0ZCRFYvU00tSjIxMEY7RkJMQy9pZF9JRDtGQk9QLzIwXSJ9CgkJCQlpZiAnbm8nIGluIHRhcGxpa2FzaToKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCcvc2RjYXJkLzRNQkYtREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nT0snKSkKCQkJCQlvays9MQoJCQkJCWJyZWFrCgkJCQllbGlmICd5YScgaW4gdGFwbGlrYXNpOgoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJy9zZGNhcmQvNE1CRi1EQVRBL09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXVzZXI9aWRmCgkJCQkJaW5mb2FrdW4gPSAiIgoJCQkJCXNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJCQljZWsyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJY2VrID1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJaW5mb2FrdW4gKz0gKGYiXG5bYm9sZCBjeWFuXVvigKJdIExJU1QgQUNUSVZFIEFQUExJQ0FUSU9OUyA6Wy9ib2xkIGN5YW5dIFxuIikKCQkJCQlhcGtha3RpZj1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWspKQoJCQkJCW5vaz0xCgkJCQkJZm9yIG11bmN1bCBpbiBhcGtha3RpZjoKCQkJCQkJaW5mb2FrdW4rPSAoZiJbYm9sZCBjeWFuXVt7bm9rfV0ge211bmN1bFswXX0ge211bmN1bFsxXX1bL2JvbGQgY3lhbl1cbiIpCgkJCQkJCW5vays9MQoKCQkJCQloaXQ9MAoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgeWVsbG93XVvigKJdIExJU1QgRVhQSVJFRCBBUFBMSUNBVElPTlMgOlsvYm9sZCB5ZWxsb3ddXG4iKQoJCQkJCWFwa2V4cD1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWsyKSkKCQkJCQloaXQ9MAoJCQkJCWZvciBtdW5jdWwgaW4gYXBrZXhwOgoJCQkJCQloaXQrPTEKCQkJCQkJaW5mb2FrdW4gKz0gKGYiW2JvbGQgeWVsbG93XVt7aGl0fV0ge211bmN1bFswXX0ge211bmN1bFsxXX1bL2JvbGQgeWVsbG93XVxuIikKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidbYm9sZCBncmVlbl1b4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9Wy9ib2xkIGdyZWVuXVxue2luZm9ha3VufScKCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J1tib2xkIGdyZWVuXUFPUkVDLVhEIE9LWy9ib2xkIGdyZWVuXScpKQoJCQkJCW9rKz0xCgkJCQkJYnJlYWsKCQkJZWxzZToKCQkJCWNvbnRpbnVlCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQl0aW1lLnNsZWVwKDMxKQoJbG9vcCs9MQojLS0tLS0tLS0tLS0tLS0tLS0tLS1bIENIRUNLLU9QU0ktQ0hFS1BPSU5UIF0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY2VrZXIoaWRmLHB3KToKCWdsb2JhbCBjcAoJdWEgPSAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjEyOCBTYWZhcmkvNTM3LjM2IEZCTUYvSFVBV0VJO0ZCQkQvSFVBV0VJO0ZCUE4vY29tLmZhY2Vib29rLnNlcnZpY2VzO0ZCRFYvRVZSLUwyOTtGQlNWLzEwO0ZCTFIvMDtGQkJLLzE7RkJDQS9hcm02NC12OGE6O10nCgloZWFkID0geyJIb3N0IjogIm1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsIm9yaWdpbiI6ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6IHVhLCJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiAibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjogIm5hdmlnYXRlIiwic2VjLWZldGNoLXVzZXIiOiAiPzEiLCJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsInJlZmVyZXIiOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJdHJ5OgoJCWhpID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykKCQlobyA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGE9eydlbWFpbCc6aWRmLCdwYXNzJzpwdywnbG9naW4nOidzdWJtaXQnfSwgaGVhZGVycz1oZWFkLCBhbGxvd19yZWRpcmVjdHM9VHJ1ZSkudGV4dCwnaHRtbC5wYXJzZXInKQoJCWpvID0gaG8uZmluZCgnZm9ybScpCgkJZGF0YSA9IHt9CgkJbGlvbiA9IFsnbmgnLCdqYXpvZXN0JywnZmJfZHRzZycsJ3N1Ym1pdFtDb250aW51ZV0nLCdjaGVja3BvaW50X2RhdGEnXQoJCWZvciBhbmogaW4gam8oJ2lucHV0Jyk6CgkJCWlmIGFuai5nZXQoJ25hbWUnKSBpbiBsaW9uOgoJCQkJZGF0YS51cGRhdGUoe2Fuai5nZXQoJ25hbWUnKTphbmouZ2V0KCd2YWx1ZScpfSkKCQlrZW50ID0gc29wKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nK3N0cihqb1snYWN0aW9uJ10pLCBkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZCkudGV4dCwnaHRtbC5wYXJzZXInKQoJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWRmLHB3LHgpKQoJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCWNwKz0xCgkJb3BzaSA9IGtlbnQuZmluZF9hbGwoJ29wdGlvbicpCgkJaWYgbGVuKG9wc2kpPT0wOgoJCQlwcmludCgnXHIlcy0tLT4gVGFwIFllcyAvIEEyRiAoQ2VrIExvZ2luIERpIExpdGUvTWJhc2ljJXMpJyUoaGgseCkpCgkJZWxzZToKCQkJZm9yIG9wc2lpIGluIG9wc2k6CgkJCQlwcmludCgnXHIlcy0tLT4gJXMlcyclKGtrLG9wc2lpLnRleHQseCkpCglleGNlcHQgRXhjZXB0aW9uIGFzIGM6CgkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZGYscHcseCkpCgkJcHJpbnQoJ1xyJXMtLS0+IFRpZGFrIERhcGF0IE1lbmdlY2VrIE9wc2kgKENlayBMb2dpbiBEaSBMaXRlL01iYXNpYyklcyclKHUseCkpCgkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJY3ArPTEKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBDSEVDSy1PUFNJLUNIRUtQT0lOVC0yIF0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY2VrX29wc2koKToKCWMgPSBsZW4oYWt1bikKCWh1ID0gJ1RlcmRhcGF0ICVzIEFrdW4gVW50dWsgRGljZWtcblNlYmVsdW0gTXVsYWksIE1vZGUgUGVzYXdhdC9VYmFoIEthcnR1IFNpbSBUZXJsZWJpaCBEYWh1bHUnJShjKQoJY2V0YWsobmVsKGh1LCB0aXRsZT0nQ0VLIE9QU0knKSkKCWlucHV0KHgrJ1snK2grJ+KAoicreCsnXSBNdWxhaScpCgljZWsgPSAnIyBQUk9TRVMgQ0VLIE9QU0kgRElNVUxBSScKCXNvbCgpLnByaW50KG1hcmsoY2VrLCBzdHlsZT0nZ3JlZW4nKSkKCWxvdmUgPSAwCglmb3Iga2VzIGluIGFrdW46CgkJdHJ5OgoJCQl0cnk6CgkJCQlpZCxwdyA9IGtlcy5zcGxpdCgnfCcpWzBdLGtlcy5zcGxpdCgnfCcpWzFdCgkJCWV4Y2VwdCBJbmRleEVycm9yOgoJCQkJdGltZS5zbGVlcCgyKQoJCQkJcHJpbnQoJ1xyJXMrKysrICVzIC0tLS0+IEVycm9yICAgICAgJXMnJShiLGtlcyx4KSkKCQkJCXByaW50KCdcciVzLS0tPiBQZW1pc2FoIFRpZGFrIERpZHVrdW5nIFVudHVrIFByb2dyYW0gSW5pJXMnJSh1LHgpKQoJCQkJY29udGludWUKCQkJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkKCQkJcHJpbnQoJ1xyJXMtLS0+ICVzLyVzIC0tLT4geyAlcyB9JXMnJShiaSxsb3ZlLGxlbihha3VuKSxpZCx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpCgkJCXVhID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMTsgVEVDTk8gS0Q4KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU1LjEwMSBNb2JpbGUgU2FmYXJpLzUzNy4zNicKCQkJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCWhlYWRlciA9IHsiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCJvcmlnaW4iOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiB1YSwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsInNlYy1mZXRjaC11c2VyIjogIj8xIiwic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLCJyZWZlcmVyIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9CgkJCWhpID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykKCQkJaG8gPSBzb3Aoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhPXsnZW1haWwnOmlkLCdwYXNzJzpwdywnbG9naW4nOidzdWJtaXQnfSwgaGVhZGVycz1oZWFkZXIsIGFsbG93X3JlZGlyZWN0cz1UcnVlKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJCWlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXRyeToKCQkJCQlqbyA9IGhvLmZpbmQoJ2Zvcm0nKQoJCQkJCWRhdGEgPSB7fQoJCQkJCWxpb24gPSBbJ25oJywnamF6b2VzdCcsJ2ZiX2R0c2cnLCdzdWJtaXRbQ29udGludWVdJywnY2hlY2twb2ludF9kYXRhJ10KCQkJCQlmb3IgYW5qIGluIGpvKCdpbnB1dCcpOgoJCQkJCQlpZiBhbmouZ2V0KCduYW1lJykgaW4gbGlvbjoKCQkJCQkJCWRhdGEudXBkYXRlKHthbmouZ2V0KCduYW1lJyk6YW5qLmdldCgndmFsdWUnKX0pCgkJCQkJa2VudCA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJytzdHIoam9bJ2FjdGlvbiddKSwgZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWRlcikudGV4dCwnaHRtbC5wYXJzZXInKQoJCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWQscHcseCkpCgkJCQkJb3BzaSA9IGtlbnQuZmluZF9hbGwoJ29wdGlvbicpCgkJCQkJaWYgbGVuKG9wc2kpPT0wOgoJCQkJCQlwcmludCgnXHIlcy0tLT4gVGFwIFllcyAvIEEyRiAoQ2VrIExvZ2luIERpIExpdGUvTWJhc2ljJXMpJyUoaGgseCkpCgkJCQkJZWxzZToKCQkJCQkJZm9yIG9wc2lpIGluIG9wc2k6CgkJCQkJCQlwcmludCgnXHIlcy0tLT4gJXMlcyclKGtrLG9wc2lpLnRleHQseCkpCgkJCQlleGNlcHQ6CgkJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZCxwdyx4KSkKCQkJCQlwcmludCgnXHIlcy0tLT4gVGlkYWsgRGFwYXQgTWVuZ2VjZWsgT3BzaSVzJyUodSx4KSkKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBPSyAgICAgICAlcyclKGgsaWQscHcseCkpCgkJCWVsc2U6CgkJCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gU0FMQUggICAgICAgJXMnJSh4LGlkLHB3LHgpKQoJCQlsb3ZlKz0xCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQlwcmludCgnJykKCQkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knCgkJCXNvbCgpLnByaW50KG1hcmsobGksIHN0eWxlPSdyZWQnKSkKCQkJZXhpdCgpCglkYWggPSAnIyBET05FJwoJc29sKCkucHJpbnQobWFyayhkYWgsIHN0eWxlPSdncmVlbicpKQoJZXhpdCgpCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBDRUstQVBMSUtBU0kgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGNla19hcGsoc2Vzc2lvbixjb29raWUpOgoJdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb29raWV9KS50ZXh0Cglzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikKCXggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikKCWdhbWUgPSBbaS50ZXh0IGZvciBpIGluIHguZmluZF9hbGwoImgzIildCglpZiBsZW4oZ2FtZSk9PTA6CgkJcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gb3BzaGggdGlkYWsgYWRhIGFwbGlrYXNpIGFrdGlmIGRpIGFrdW4gaW5pLiIpCgllbHNlOgoJCWZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6CgkJCXByaW50KCIgICAlcyVzLiAlcyVzIiUoSCxpKzEsZ2FtZVtpXS5yZXBsYWNlKCJEaXRhbWJhaGthbiBwYWRhIiwiIERpdGFtYmFoa2FuIHBhZGEiKSxOKSkKCXc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb29raWV9KS50ZXh0Cglzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikKCXggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikKCWdhbWUgPSBbaS50ZXh0IGZvciBpIGluIHguZmluZF9hbGwoImgzIildCglpZiBsZW4oZ2FtZSk9PTA6CgkJcHJpbnQoZiJcbiB7Tn1be019IXtOfV1vcHNoaCB0aGVyZSBpcyBubyBleHBpcmVkIGFwcGxpY2F0aW9uIGluIHRoaXMgYWNjb3VudC4iKQoJZWxzZToKCQlmb3IgaSBpbiByYW5nZShsZW4oZ2FtZSkpOgoJCQlwcmludCgiICAgJXMlcy4gJXMlcyIlKEssaSsxLGdhbWVbaV0ucmVwbGFjZSgiS2VkYWx1d2Fyc2EiLCIgS2VkYWx1d2Fyc2EiKSxOKSkKCQkJcHJpbnQoIldlbGNvbWUge2N5YW59ICIpCgkJCQogCgojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIFNZU1RFTS1DT05UUk9MIF0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKaWYgX19uYW1lX189PSdfX21haW5fXyc6Cgl0cnk6b3Muc3lzdGVtKCdnaXQgcHVsbCcpCglleGNlcHQ6cGFzcwoJdHJ5Om9zLm1rZGlyKCdPSycpCglleGNlcHQ6cGFzcwoJdHJ5Om9zLm1rZGlyKCdDUCcpCglleGNlcHQ6cGFzcwoJdHJ5Om9zLm1rZGlyKCdEVU1QJykKCWV4Y2VwdDpwYXNzCgl0cnk6b3Muc3lzdGVtKCd0b3VjaCAucHJveC50eHQnKQoJZXhjZXB0OnBhc3MKCWxvZ2luKCkKCXByaW50KCcnKQpvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8veW91dHViZS5jb20vY2hhbm5lbC9VQ1I2RW9LU0JzRnlJMkR5RVFFdDlLNlEnKQoKIz4+Pj4+IFRIQU5LUyBUTyBUSElTIEhFUkUgPDw8PDw8PCMKIz4+Pj4+IE1FSEVESV9IQVNBTl9UT05VIDw8PDw8Iwo="))
